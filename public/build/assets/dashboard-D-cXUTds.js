import{d as v,b as C,e as k,_ as $,c as B,w as o,m as M,o as y,r as I,j as S,z as L,l as a,A as U,p as D,u as T,h as V,i as t,x as d,B as w,y as m,C as s,t as g}from"./main-_i2oXPUW.js";import{D as R,u as E,a as P,b as j,V as z,c as i}from"./DefaultLayout-C6N_xnTo.js";import{B as F,u as Q}from"./useAuth-CRufrW3H.js";import{B as W}from"./BaseCard-Dat2GVFs.js";import{V as q}from"./VSnackbar-Btlxh5Q0.js";const G=v({name:"BaseSnackbar",props:{modelValue:{type:Boolean,default:!1},color:{type:String,default:"info"},timeout:{type:Number,default:3e3},location:{type:String,default:"bottom right"},vertical:{type:Boolean,default:!1},closable:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(l,{emit:e}){const n=C(l.modelValue);return k(()=>l.modelValue,r=>{n.value=r}),k(n,r=>{e("update:modelValue",r)}),{internalModel:n}}});function H(l,e,n,r,b,f){return y(),B(q,M({modelValue:l.internalModel,"onUpdate:modelValue":e[1]||(e[1]=u=>l.internalModel=u),color:l.color,timeout:l.timeout,location:l.location,vertical:l.vertical},l.$attrs),{actions:o(()=>[l.closable?(y(),B(L,{key:0,color:"white",variant:"text",onClick:e[0]||(e[0]=u=>l.internalModel=!1)},{default:o(()=>e[2]||(e[2]=[a(" Close ")])),_:1})):S("",!0)]),default:o(()=>[I(l.$slots,"default")]),_:3},16,["modelValue","color","timeout","location","vertical"])}const J=$(G,[["render",H]]),K=v({name:"Dashboard",components:{DefaultLayout:R,BaseButton:F,BaseCard:W,BaseSnackbar:J},setup(){const l=T(),{logout:e,isAdmin:n}=Q(),{userName:r,userEmail:b}=E(),f=C(!1),u=U(()=>n.value?P:j);async function p(){try{await e(),l.push({name:"Login"})}catch(c){console.error("Logout failed:",c)}}return D(()=>{f.value=!0}),k(n,()=>{console.log("isAdmin changed:",n.value)}),{menuItems:u,userName:r,userEmail:b,isAdmin:n,handleLogout:p,showSnackbar:f}}});function O(l,e,n,r,b,f){const u=V("BaseCard"),p=V("BaseButton"),c=V("BaseSnackbar"),N=V("default-layout");return y(),B(N,{title:"Dashboard","menu-items":l.menuItems,onLogout:l.handleLogout},{default:o(()=>[t(z,null,{default:o(()=>[t(i,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(u,null,{default:o(()=>[t(d,null,{default:o(()=>[t(w,{left:"",color:"primary"},{default:o(()=>e[1]||(e[1]=[a("mdi-account-group")])),_:1}),e[2]||(e[2]=a(" Total Users "))]),_:1}),t(m,null,{default:o(()=>e[3]||(e[3]=[s("h2",{class:"text-h4"},"1,245",-1),s("p",{class:"text-caption"},"Active users in the system",-1)])),_:1})]),_:1})]),_:1}),t(i,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(u,null,{default:o(()=>[t(d,null,{default:o(()=>[t(w,{left:"",color:"primary"},{default:o(()=>e[4]||(e[4]=[a("mdi-newspaper")])),_:1}),e[5]||(e[5]=a(" Total News "))]),_:1}),t(m,null,{default:o(()=>e[6]||(e[6]=[s("h2",{class:"text-h4"},"342",-1),s("p",{class:"text-caption"},"Published news articles",-1)])),_:1})]),_:1})]),_:1}),t(i,{cols:"12",sm:"6",md:"4"},{default:o(()=>[t(u,null,{default:o(()=>[t(d,null,{default:o(()=>[t(w,{left:"",color:"primary"},{default:o(()=>e[7]||(e[7]=[a("mdi-face-recognition")])),_:1}),e[8]||(e[8]=a(" Total Face Models "))]),_:1}),t(m,null,{default:o(()=>e[9]||(e[9]=[s("h2",{class:"text-h4"},"789",-1),s("p",{class:"text-caption"},"Registered face models",-1)])),_:1})]),_:1})]),_:1}),t(i,{cols:"12",md:"6"},{default:o(()=>[t(u,null,{default:o(()=>[t(d,null,{default:o(()=>e[10]||(e[10]=[a("User Information")])),_:1}),t(m,null,{default:o(()=>[s("p",null,[e[11]||(e[11]=s("strong",null,"Name:",-1)),a(" "+g(l.userName),1)]),s("p",null,[e[12]||(e[12]=s("strong",null,"Email:",-1)),a(" "+g(l.userEmail),1)]),s("p",null,[e[13]||(e[13]=s("strong",null,"Role:",-1)),a(" "+g(l.isAdmin?"Admin":"User"),1)])]),_:1})]),_:1})]),_:1}),t(i,{cols:"12",md:"6"},{default:o(()=>[t(u,null,{default:o(()=>[t(d,null,{default:o(()=>e[14]||(e[14]=[a("Quick Actions")])),_:1}),t(m,null,{default:o(()=>[t(p,{color:"primary","prepend-icon":"mdi-newspaper",to:"/news"},{default:o(()=>e[15]||(e[15]=[a(" View News ")])),_:1}),l.isAdmin?(y(),B(p,{key:0,color:"primary","prepend-icon":"mdi-account-group",to:"/users",class:"ml-2"},{default:o(()=>e[16]||(e[16]=[a(" Manage Users ")])),_:1})):S("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),t(c,{modelValue:l.showSnackbar,"onUpdate:modelValue":e[0]||(e[0]=A=>l.showSnackbar=A),color:"success",timeout:5e3,location:"top right",closable:""},{default:o(()=>[a(" Welcome to Dashboard, "+g(l.userName)+"! ",1)]),_:1},8,["modelValue"])]),_:1},8,["menu-items","onLogout"])}const h=$(K,[["render",O],["__scopeId","data-v-4266504e"]]);export{h as default};
