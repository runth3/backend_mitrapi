import{d as f,_ as c,r as a,c as p,o as _,w as l,b as o,e as d,t as m,g as D,D as S,a as N,m as B}from"./app-B2iXRY-s.js";const L=f({name:"NewsForm",props:{title:{type:String,default:"Create News"},submitButtonText:{type:String,default:"Create"},initialData:{type:Object,default:()=>({title:"",content:"",image_url:""})},loading:{type:Boolean,default:!1}},data(){return{valid:!1,formData:{...this.initialData}}},methods:{async handleSubmit(){const e=this.$refs.form,{valid:t}=await e.validate();t&&this.$emit("submit",this.formData)}}});function T(e,t,v,w,g,b){const i=a("v-card-title"),s=a("v-text-field"),u=a("v-textarea"),r=a("v-btn"),h=a("v-col"),$=a("v-row"),y=a("v-form"),C=a("v-card-text"),V=a("v-card");return _(),p(V,null,{default:l(()=>[o(i,null,{default:l(()=>[d(m(e.title),1)]),_:1}),o(C,null,{default:l(()=>[o(y,{ref:"form",modelValue:e.valid,"onUpdate:modelValue":t[4]||(t[4]=n=>e.valid=n),onSubmit:D(e.handleSubmit,["prevent"])},{default:l(()=>[o(s,{modelValue:e.formData.title,"onUpdate:modelValue":t[0]||(t[0]=n=>e.formData.title=n),rules:[n=>!!n||"Title is required"],label:"Title",required:"",variant:"outlined","full-width":"",class:"mb-4"},null,8,["modelValue","rules"]),o(u,{modelValue:e.formData.content,"onUpdate:modelValue":t[1]||(t[1]=n=>e.formData.content=n),rules:[n=>!!n||"Content is required"],label:"Content",required:"",variant:"outlined","full-width":"",class:"mb-4",rows:"10","auto-grow":""},null,8,["modelValue","rules"]),o(s,{modelValue:e.formData.image_url,"onUpdate:modelValue":t[2]||(t[2]=n=>e.formData.image_url=n),label:"Image URL",variant:"outlined","full-width":"",class:"mb-4"},null,8,["modelValue"]),o($,null,{default:l(()=>[o(h,{cols:"12",class:"d-flex justify-end"},{default:l(()=>[o(r,{color:"secondary",variant:"text",class:"mr-2",onClick:t[3]||(t[3]=n=>e.$emit("cancel"))},{default:l(()=>t[5]||(t[5]=[d(" Cancel ")])),_:1}),o(r,{color:"primary",type:"submit",loading:e.loading,disabled:!e.valid},{default:l(()=>[d(m(e.submitButtonText),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1})}const U=c(L,[["render",T]]),k=f({name:"CreateNews",components:{DefaultLayout:S,NewsForm:U},data(){return{loading:!1,menuItems:B}},methods:{async handleSubmit(e){this.loading=!0;try{await N.post("/api/news",e),this.$router.push({name:"News"})}catch(t){console.error("Failed to create news:",t)}finally{this.loading=!1}},handleCancel(){this.$router.push({name:"News"})},logout(){localStorage.removeItem("auth_token"),this.$router.push({name:"Login"})}}});function q(e,t,v,w,g,b){const i=a("news-form"),s=a("v-col"),u=a("v-row"),r=a("default-layout");return _(),p(r,{title:"Create News","menu-items":e.menuItems,onLogout:e.logout},{default:l(()=>[o(u,null,{default:l(()=>[o(s,{cols:"12",md:"8","offset-md":"2"},{default:l(()=>[o(i,{title:"Create News",loading:e.loading,onSubmit:e.handleSubmit,onCancel:e.handleCancel},null,8,["loading","onSubmit","onCancel"])]),_:1})]),_:1})]),_:1},8,["menu-items","onLogout"])}const F=c(k,[["render",q]]);export{F as default};
